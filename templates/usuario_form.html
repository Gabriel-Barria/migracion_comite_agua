{% extends 'base.html' %}
{% block title %}{{ 'Editar' if usuario else 'Nuevo' }} Usuario - Comité de Agua{% endblock %}
{% block content %}
<div class="header-actions">
    <h1>{{ 'Editar' if usuario else 'Nuevo' }} Usuario</h1>
    <a href="{{ url_for('usuarios') }}" class="btn btn-secondary">Volver</a>
</div>

<form method="POST" class="form-card">
    <div class="form-row">
        <div class="form-group">
            <label>Nombre *</label>
            <input type="text" name="nombre" value="{{ usuario.nombre if usuario else '' }}" required>
        </div>
        <div class="form-group">
            <label>Primer Apellido *</label>
            <input type="text" name="primer_apellido" value="{{ usuario.primer_apellido if usuario else '' }}" required>
        </div>
        <div class="form-group">
            <label>Segundo Apellido</label>
            <input type="text" name="segundo_apellido" value="{{ usuario.segundo_apellido if usuario else '' }}">
        </div>
    </div>
    <div class="form-row">
        <div class="form-group">
            <label>RUT</label>
            <input type="text" name="rut" value="{{ usuario.rut if usuario else '' }}" placeholder="12345678-9">
        </div>
        <div class="form-group">
            <label>Teléfono</label>
            <input type="text" name="telefono" value="{{ usuario.telefono if usuario else '' }}">
        </div>
        <div class="form-group">
            <label>Email</label>
            <input type="email" name="email" value="{{ usuario.email if usuario else '' }}">
        </div>
    </div>
    <div class="form-row">
        <div class="form-group" style="flex:2">
            <label>Dirección</label>
            <input type="text" name="direccion" value="{{ usuario.direccion if usuario else '' }}">
        </div>
        <div class="form-group">
            <label>Integrantes Hogar</label>
            <input type="number" name="integrantes_hogar" value="{{ usuario.integrantes_hogar if usuario else '' }}" min="1">
        </div>
    </div>
    <div class="form-row">
        <div class="form-group">
            <label>Estado</label>
            <select name="estado">
                <option value="Activo" {% if not usuario or usuario.estado == 'Activo' %}selected{% endif %}>Activo</option>
                <option value="Inactivo" {% if usuario and usuario.estado == 'Inactivo' %}selected{% endif %}>Inactivo</option>
            </select>
        </div>
        <div class="form-group" style="flex:2">
            <label>Observaciones</label>
            <input type="text" name="observaciones" value="{{ usuario.observaciones if usuario else '' }}">
        </div>
    </div>
    <div class="form-actions">
        <button type="submit" class="btn btn-primary">Guardar</button>
        <a href="{{ url_for('usuarios') }}" class="btn btn-secondary">Cancelar</a>
    </div>
</form>
{% endblock %}
